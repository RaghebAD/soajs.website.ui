<a id="docker-deployment-linux"></a>
<h1>Docker Machine Deployment on Linux</h1>
<div class="white-container">
	<p>
		This page helps you install SOAJS using docker machine and offers you the benefit of deploying your cloud of
		services using containers.<br/>
		This Mode creates 2 environments (Dashboard &amp; Dev) that isolates containers depending on the environment
		they are deployed in.
	</p>
	<hr/>
	<h3>Prerequisites</h3>
	<pre><code class="bash"># install NodeJS MongoDB Docker Docker-Machine
$ apt-get update apt-get install -y npm libkrb5-dev make g++ build-essential nodejs mongodb

# Install Docker
$ curl -fsSL https://get.docker.com/ | sh

# Install Docker-machine
$ curl -L https://github.com/docker/machine/releases/download/v0.6.0/docker-machine-`uname -s`-`uname -m` >/usr/local/bin/docker-machine && chmod +x /usr/local/bin/docker-machine

$ ln -s /usr/bin/nodejs /usr/bin/node
$ service mongodb stop</code></pre>
	<br>
	<table width="100%" class="myTable">
		<thead>
			<tr>
				<th>Technology Name</th>
				<th>Link</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>MongoDB</td>
				<td><a href="https://www.mongodb.org/" target="_blank">Official Link</a></td>
			</tr>
			<tr class="even">
				<td>NodeJS</td>
				<td><a href="https://www.nodejs.org/" target="_blank">Official Link</a></td>
			</tr>
			<tr>
				<td>Nginx</td>
				<td><a href="https://www.nginx.org/" target="_blank">Official Link</a></td>
			</tr>
			<tr class="even">
				<td>Docker & Docker Machine</td>
				<td><a href="https://docs.docker.com/" target="_blank">Official Link</a></td>
			</tr>
			<tr>
				<td>Virtualbox</td>
				<td><a href="https://www.virtualbox.org/" target="_blank">Official Link</a></td>
			</tr>
		</tbody>
	</table>
	<p>
		SOAJS is built using NodeJs and MongoDB therefore, you need to have them installed and running on your
		machine.
	</p>

	<h3>Installation</h3>
	<p>
		Now install <a target="_blank" href="http://www.npmjs.org/packages/soajs.utilities">soajs.utilities</a> via NPM
		in /opt/soajs to acquire the configuration files needed to deploy SOAJS.
	</p>
<pre><code class="bash"># install soajs.utilities
$ npm install soajs.utilities

#Navigate to soajs.utilities and run the installation script
$ cd soajs.utilities/lib/

#execute the installer script
$ ./dockermachineDeploy.sh</code></pre>
	<em>The above command will install SOAJS framework and all the SOAJS core services from NPM then start all these services.</em>

	<p>
		Once you run the above script, choose <b>option 1</b> which refers to new installation.<br/>
		During the installation, the script will ask you to enter a domain for your application.
	</p>
	<h3>Configuration</h3>

	<p>
		Update the hosts file on your machine and point out the following domains:
	</p>
	<pre><code class="bash">$ gedit /etc/hosts
127.0.0.1 dashboard-api.soajs.org
127.0.0.1 dashboard.soajs.org
127.0.0.1 api.mydomain.com</code></pre>
	<p>
		Once the Installation script finishes, it will output the above two lines with the correct IP address.<br/>
		Make sure you put the correct IP address instead of 127.0.0.1 in your /etc/hosts file.<br/>
		The <b>api.mydomain.com</b> will actually contain the value of the domain you entered during installation.
	</p>
	<h3>Usage</h3>

	<p>
		The domain dashboard-api.soajs.org redirects requests to the dashboard services which allows you to manage the
		provisioned information in core database.
	</p>
	<p>
		In your browser, go to <a target="_blank" href="http://dashboard.soajs.org">http://dashboard.soajs.org</a> and
		login using the administrator account. This account was created when you ran the installation script. A sample
		data was also imported by the script and provides the following accounts:
	</p>
	<b>Owner:</b> ( Full access to all Dashboard services )
	<ul>
		<li><b>Username:</b>&nbsp; owner</li>
		<li><b>Password:</b>&nbsp; password</li>
	</ul>
	<br/>
	<b>Client:</b> ( Limited access to Dashboard services )
	<ul>
		<li><b>Username:</b>&nbsp; client</li>
		<li><b>Password:</b>&nbsp; password</li>
	</ul>
	<p>
		Once you login, you can modify these credentials, monitor the services and perform all core operations related
		to <a href="#/documentation/advanced/multitenancy">Multitenancy</a>,
		<a href="#/documentation/advanced/productization">Productization</a>,
		<a href="#/documentation/advanced/environment">Multi Environment</a> and other. Checkout the
		<a href="#/documentation/ui/dashboard">Dashboard</a> to see what features are offered.
	</p>
</div>