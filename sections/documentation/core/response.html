<a id="request"></a>
<h1>SOAJS Response</h1>
<div class="white-container">
	<p>
		When you build your service, SOAJS adds its buildResponse tool to the request object. This tool standardizes the response that should be returned by your service API. All responses are encapsulated in a valid REST API JSON schema supporting both successful and error responses.
	</p>
	<h3>Technical Information</h3>
	<p>
		buildResponse is a function that returns a JSON response constructed from the two parameters it accepts.
	</p>
	<table class="myTable" width="100%">
		<thead>
			<tr>
				<th style="min-width: 40px;">Parameter Order</th>
				<th style="min-width: 40px;">Parameter Type</th>
				<th>Description</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>First</td>
				<td>Error Object</td>
				<td>An object that represents an error and is represented by a code and a message.</td>
			</tr>
			<tr class="even">
				<td>Second</td>
				<td>Data Response</td>
				<td>The data that the API should return.</td>
			</tr>
		</tbody>
	</table>
	<p>
		The response returned contains either a successful result or a failure one. In the case of a successful response, the data is provided whereas if the response is a failure, a JSON object is returned stating the error message and its code. The below snippet shows both possible responses returned by an API:
	</p>
	<pre><code class="bash"># failure response
{
	"result":false,
	"errors":{
		"codes":["400"],
		"details":[
			{"code":"400","message":"this is an error"}
		]
	}

}

# successful response
{
	"result": true,
	"data": "API data response..."
}</code></pre>
	<br/>
	<hr/>
	<h3>Code Examples:</h3>
	<h4>Case of an Error:</h4>
	<p>In the event of an error, buildResponse only uses the first parameter to construct a failure JSON response and return it. The first parameter is an object that holds 2 properties which define the Error that should be returned.</p>
	<table class="myTable" width="100%">
		<thead>
			<tr>
				<th style="min-width: 45px" class="noBreak">Property Name</th>
				<th style="min-width: 45px" class="noBreak">Property Type</th>
				<th>Usage</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>code</td>
				<td>Integer/String</td>
				<td>Specifies the code of the Error.</td>
			</tr>
			<tr>
				<td>msg</td>
				<td>String</td>
				<td>States the message of the Error.</td>
			</tr>
		</tbody>
	</table>
	<h6><u>Code:</u></h6>
	<pre><code class="javascript">...
	# somewhere in the code
	res.json(req.soajs.buildResponse({code:'400', msg: 'this is an error!!!' }));
...</code></pre>
	<h6><u>Response:</u></h6>
	<pre><code class="javascript">{"result":false,"errors":{"codes":["400"],"details":[{"code":"400","message":"this is an error"}]}}</code></pre>
	<br/>
	<h4>Case of a Success Response</h4>
	<p>
		If an API has completed its execution and should return a success response, buildResponse uses the second parameter to formulate the response and return it. The second parameter supports all types of data passed to it:
	</p>
	<h6><u>Code:</u></h6>
	<pre><code class="javascript">...
	# somewhere in the code
	res.json(req.soajs.buildResponse(null, { 'a': 'b' }));
...</code></pre>
	<h6><u>Response:</u></h6>
	<pre><code class="javascript">{"result":success,"data":{ 'a': 'b' }}</code></pre>
</div>