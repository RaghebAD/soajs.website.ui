<div id="getStartedPage" >
	<h1>What is SOAJS?</h1>

	<div class="white-container">
		<p>
			Service-Oriented Architecture built using JavaScript (SOAJS). Its services can be combined to provide the functionality of a large software application. Each Service is a collection of APIs easily managed by SOAJS framework and productized with multitenant capability. Its embedded self-awareness makes it easier to scale both horizontally and vertically letting all services running on the cloud to communicate effortless and form a massive reliable and scalable infrastructure to empower the communication between the product frontend and backend. SOAJS comes with tons of features, implementing SOAJS framework means getting a boost start of at least 50%.
		</p>
		<hr/>
		<h3>Hello World</h3>
		<p>
			Let's start with a simple "hello world" service that has one API and when called, this API returns two parameters: firstName &amp; lastName in its response.<br />
			This service requires 2 files to function:
		</p>
		<ol>
			<li><b>index.js</b>: contains the code of the service and the API implementation.</li>
			<li><b>config.js</b>: contains the configuration of the service.</li>
		</ol>
		<tabset>
			<tab heading="index.js">
			<pre><code class="javascript">'use strict';
	var soajs = require('soajs');
	var config = require('./config.js');
	var service = new soajs.server.service({ "config": config });
	service.init(function () {
		service.get("/hello", function (req, res) {
			res.json(req.soajs.buildResponse(null, "Hello "+req.soajs.inputmaskData.firstName+" "+req.soajs.inputmaskData.lastName));
		});
	service.start();
});</code></pre>
			</tab>
			<tab heading="config.js">
			<pre><code class="javascript">module.exports = {
	serviceName: "helloworld",
	servicePort: 4020,
	extKeyRequired: false,
	"errors": {},
	"schema": {
		"/hello": {
			"_apiInfo":{
				"l": "hello world"
			},
			"firstName": {
				"source": ['query.firstName'],
				"required": true,
				"validation": {
					"type": "string"
				}
			},
			"lastName": {
				"source": ['query.lastName'],
				"required": true,
				"validation": {
					"type": "string"
				}
			}
		}
	}
};</code></pre>
			</tab>
		</tabset>
		<p>
			Simply create the service using SOAJS service constructor, pass along the configuration, initialize it and start implementing the APIs.<br />
		</p>
		<ul>
			<li>
				<b>soajs.server.service</b>: used to declare a new service with SOAJS and requires the service configuration as a param.	More information on what configuration can be provided is explained in <a href="#/documentation/core/service">Service</a> section under documentation.
			</li>
			<li>
				<b>req.soajs.inputmaskData</b>: maps, format, validate all the inputs to the API and consolidates them regardless of the source they arrive from into one object <b>inputmaskData</b>. For additional information, check out <a href=#/documentation/core/imfv>IMFV</a> section under documentation.
			</li>
			<li>
				<b>buildResponse</b>: used to build a standardized JSON response regardless of the data returned by your API. For more information check out <a href="#/documentation/core/response">SOAJS Response</a> section under documenation.
			</li>
		</ul>
		<p>Now that you have an idea what a service looks like, let's run it and invoke its APIs.</p>
		<hr/>
		<h3>Start the service</h3>
		<p>
			Before you run your service, make sure you have the following installed:<br />
			- <a href="http://www.mongodb.org" target="_blank">MongoDB</a> ( version 2.6.7 or higher)<br />
			- <a href="http://www.nodejs.org" target="_blank">NodeJS</a> (version 0.10.25 or higher)
		</p>
		<p>
			Next, download the "hello world" service by installing <a href="https://npmjs.org/packages/soajs.examples" target="_blank">soajs.examples</a> and <a href="https://npmjs.org/packages/soajs.utilities" target="_blank">soajs.utilities</a> packages:
		</p>
		<pre><code class="bash"># create a directory to place your soajs modules in
$ mkdir -p /opt/soajs/node_modules/
$ cd /opt/soajs/node_modules/

# install the examples in that directory
$ npm install soajs.examples

# install the utilities in that directory
$ npm install soajs.utilities</code></pre>
		<p>
			The "Hello World" example source code is avaialble under soajs.examples and soajs framework configurtion is available under soajs.utilities. Before running any SOAJS service, you need to import the SOAJS configurtion into the database. In later steps we explain the framework configuration in detail. For now let's import the configuration and get the service started.
		</p>
		<pre><code class="bash"># import some test data from utilities
$ cd /opt/soajs/node_modules/soajs.utilities/lib
$ node index.js data import provision
$ node index.js data import urac

# go to examples/hello_world and start the service
$ cd /opt/soajs/node_modules/soajs.examples/hello_world/
$ node .</code></pre>
		<hr/>
		<h3>Test the service</h3>
		<p>
			Once the service starts, run the following curl command that calls the API of your "hello world" service:
		</p>
		<pre><code class="bash">$ CURL -X GET "http://127.0.0.1:4020/hello?firstName=John&lastName=Doe"</code></pre>
		<p>The service will reply with a json response:</p>
		<pre><code class="javascript">{
	"result": true,
	"data": "Hello John Doe"
}</code></pre>
		<em>That's it!</em>
		<hr/>
		<h3>Protect the service</h3>
		<p>
			Now that you have seen how to run and call your service, let's protect it.<br />
			First, stop the service from your terminal, then edit the index.js file. On the third line next to <b>"config":config</b> add <b>"oauth": true</b>.<br />
		</p>
		<pre><code class="javascript">var service = new soajs.server.service({ "config": config, "oauth": true });</code></pre>
		<p>
			Enabling oAuth secures your service, any unauthorized request made to its APIs will be rejected.<br />
			Turn your service back on and hit the API a second time:
		</p>
		<pre><code class="bash"># turn the service back on
$ node .

# hit the same API again
$ CURL -X GET "http://127.0.0.1:4020/hello?firstName=John&lastName=Doe"</code></pre>
		<h5>Response:</h5>
		<pre><code class="javascript">{
	result: false,
	errors: {
		codes: [ 400 ],
		details: [ { code: 400, message: "The access token was not found" } ]
	}
}</code></pre>
		<em>I told you it's protected!</em>
		<p>
			In order to access your service API, you need a vaild to be added to your request. SOAJS provides you with a full blown oAuth 2.0 service that you can take advantage of instantly. Install <a href="https://npmjs.org/packages/soajs.oauth" target="_blank">soajs.oauth</a> package and run it:
		</p>
		<pre><code class="bash">$ cd /opt/soajs/node_modules/
$ npm install soajs.oauth

# navigate to soajs.oauth and start the service
$ cd /opt/soajs/node_modules/soajs.oauth
$ node .</code></pre>
		<p>
			soajs.oauth runs on port 4002. Let's get a valid access_token now:
		</p>
		<pre><code class="bash">$ CURL -X POST -H "Authorization: Basic MTBkMmNiNWZjMDRjZTUxZTA2MDAwMDAxOnNoaGggdGhpcyBpcyBhIHNlY3JldA==" -H "key:aa39b5490c4a4ed0e56d7ec1232a428f771e8bb83cfcee16de14f735d0f5da587d5968ec4f785e38570902fd24e0b522b46cb171872d1ea038e88328e7d973ff47d9392f72b2d49566209eb88eb60aed8534a965cf30072c39565bd8d72f68ac" "http://127.0.0.1:4002/token" -d 'username=oauthuser&password=oauthpassword&grant_type=password'</code></pre>
		<h5>Response:</h5>
		<pre><code class="javascript">{
	"token_type": "bearer",
	"access_token": "e58751473112bca2ed939e0445e55b0f7921f544",
	"expires_in": 3600,
	"refresh_token": "bb09a2f5582425c4ef9440dcce5885cbbe743047"
}</code></pre>
		<p>
			Grab the access_token from the returned response and add it to the "hello world" API request:
		</p>
		<pre><code class="bash">http://127.0.0.1:4020/hello?firstName=John&lastName=Doe&access_token=e58751473112bca2ed939e0445e55b0f7921f544</code></pre>
		<h5>Response:</h5>
		<pre><code class="javascript">{
	"result": true,
	"data": "Hello John Doe"
}</code></pre>
		<em>Working again!</em>
		<p>
			As you can see, protecting any SOAJS service with oAuth is very simple however this is not the only the security offered. SOAJS comes with tons of security features:
		</p>
		<ul>
			<li><a href="#/documentation/service/oauth">oAuth2.0</a> Security</li>
			<li><a href="#/documentation/core/key-security">Api Key Security</a>:
				<ul>
					<li>Device Security</li>
					<li>Geo Location Security</li>
				</ul>
			</li>
			<li><a href="#/documentation/advanced/multitenancy">Multitenant Security</a>:
				<ul>
					<li>Tenant Level Security</li>
					<li>User Level Security</li>
				</ul>
			</li>
		</ul>
		<p>
			Now let's head on to Step 2 and Checkout the examples that where downloaded when we installed <b>soajs.examples</b>.
		</p>
		<div style="clear:both; display: table; width: 100%;">
			<a class="small-button" href="#/getStarted/example01">Next &raquo;</a>
		</div>
	</div>
</div>